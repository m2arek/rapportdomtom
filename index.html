<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Productible PV — PVGIS</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="card">
    <h1>Calcul du productible PV — PVGIS</h1>
    <p class="sub">Angle fixé à 28° (toiture), puissance crête 1 kWp, pertes 10%, technologie <em>crystSi</em>. Résultat : kWh/kWp/an.</p>

    <form id="form">
      <label>
        Latitude
        <input id="lat" type="number" step="0.0001" placeholder="ex. 14.64" required>
      </label>

      <label>
        Longitude
        <input id="lon" type="number" step="0.0001" placeholder="ex. -61.02" required>
      </label>

      <label class="full">
        <span>Orientation</span>
        <select id="orientation">
          <option value="0">SUD (0°)</option>
          <option value="-90">EST (-90°)</option>
          <option value="90">OUEST (90°)</option>
          <option value="-45">SUD-EST (-45°)</option>
          <option value="45">SUD-OUEST (45°)</option>
        </select>
      </label>

      <div class="row full">
        <button id="btn" type="submit">Calculer le productible</button>
        <span id="status" class="muted small">Prêt.</span>
      </div>
    </form>

    <div class="result" id="result" hidden>
      <div id="kpi" class="kpi">—</div>
      <div id="meta" class="muted">—</div>
      <div class="grid-3">
        <div class="pill" id="coords">—</div>
        <div class="pill" id="tilt">—</div>
        <div class="pill" id="az">—</div>
      </div>
    </div>

    <footer>
      Source : <span class="small">PVGIS v5.2 (endpoint <code>PVcalc?outputformat=basic</code>) via <code>corsproxy.io</code>.</span>
    </footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
